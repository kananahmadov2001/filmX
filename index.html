<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie-Search-Website</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // API configuration
    const API_KEY = '943eed175989bada03efdfddee323358';
    const BASE_URL = 'https://api.themoviedb.org/3';
    const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';

    // App Component
    function App() {
      const [query, setQuery] = React.useState('');
      const [movies, setMovies] = React.useState([]);

      const handleSearch = async () => {
        if (!query) return;
        try {
          const response = await axios.get(`${BASE_URL}/search/movie`, {
            params: { api_key: API_KEY, query }
          });
          setMovies(response.data.results);
        } catch (error) {
          console.error('Error fetching movies:', error);
        }
      };

      return (
        <div className="container">
          <h1 className="text-center mt-4">Movie-Search-Website</h1>
          <div className="search-bar text-center mt-4">
            <input
              type="text"
              className="form-control"
              placeholder="Search for a movie..."
              value={query}
              onChange={(e) => setQuery(e.target.value)}
              style={{ width: '80%', margin: '0 auto' }}
            />
            <button
              className="btn btn-primary mt-2"
              onClick={handleSearch}
            >
              Search
            </button>
          </div>
          <MovieList movies={movies} />
        </div>
      );
    }

    // MovieList Component
    function MovieList({ movies }) {
      if (!movies.length) return null;

      return (
        <div className="movie-list mt-4 row">
          {movies.map((movie) => (
            <div key={movie.id} className="col-md-3 mb-4">
              <MovieCard movie={movie} />
            </div>
          ))}
        </div>
      );
    }

    // MovieCard Component
    function MovieCard({ movie }) {
      return (
        <div className="card">
          <img
            src={`${IMAGE_URL}${movie.poster_path}`}
            className="card-img-top"
            alt={movie.title}
          />
          <div className="card-body">
            <h5 className="card-title">{movie.title}</h5>
            <p className="card-text">{movie.overview}</p>
          </div>
        </div>
      );
    }

    // Render the App
    const container = document.querySelector('#root');
    const root = ReactDOM.createRoot(container);
    root.render(<App />);
  </script>
</body>
</html>
